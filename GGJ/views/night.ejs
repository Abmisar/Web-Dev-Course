<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lisper â€” ØºÙ…Ù‘Ø¶ÙˆØ§ Ø§Ù„Ø¹ÙŠÙˆÙ†</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gloria+Hallelujah&family=Titan+One&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/styles/main.css" />
    <style>
      .night-box { 
        max-width: 820px; 
        margin: 0 auto; 
        text-align: center; 
        background: rgba(15, 23, 42, 0.9);
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 10px 15px -3px rgba(0,0,0,0.3);
      }
      .step { 
        font-size: 1.8rem; 
        color: #fff; 
        margin: 20px 0 30px;
        min-height: 100px;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .role-card {
        background: #1e293b;
        border-radius: 10px;
        padding: 20px;
        margin: 20px auto;
        max-width: 500px;
        font-size: 1.5rem;
        color: #fff;
        display: none;
      }
      .criminal-card {
        border: 2px solid #ef4444;
      }
      .doctor-card {
        border: 2px solid #22d3ee;
      }
      .police-card {
        border: 2px solid #a78bfa;
      }
      .citizen-card {
        border: 2px solid #4ade80;
      }
    </style>
  </head>
  <body>
    <div class="night-box">
      <h1>ØªØ³Ù„Ø³Ù„ "ØºÙ…Ù‘Ø¶ Ø§Ù„Ø¹ÙŠÙˆÙ†" ðŸŒ™</h1>
      <div id="step" class="step"></div>
      
      <!-- Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø£Ø¯ÙˆØ§Ø± -->
      <div id="criminalCard" class="role-card criminal-card"></div>
      <div id="doctorCard" class="role-card doctor-card"></div>
      <div id="policeCard" class="role-card police-card"></div>
      <div id="citizenCard" class="role-card citizen-card"></div>

      <button id="next" class="btn" style="margin-top: 20px;">Ø§Ù„ØªØ§Ù„ÙŠ</button>
    </div>

    <script>
      // ØªØ­Ø¯ÙŠØ§Øª Ø§Ù„Ø£Ø¯ÙˆØ§Ø±
      const roleChallenges = {
        criminal: [
          "ÙŠÙ„Ù…Ø³ ÙƒØªÙ Ø§Ù„ÙŠ Ø¬Ù†Ø¨Ù‡",
          "ÙŠØªÙ…ØºØ· Ø¨Ø·Ø±ÙŠÙ‚Ø© Ù…Ø¨Ø§Ù„Øº ÙÙŠÙ‡Ø§",
          "ÙŠØ±Ù…ÙŠ Ø°Ø¨Ø§Ø¨Ø© ÙˆÙ‡Ù…ÙŠØ©"
        ],
        doctor: [
          "Ø§Ø®ØªØ± Ø´Ø®ØµØ§Ù‹ Ù„Ø¥Ù†Ù‚Ø§Ø°Ù‡ Ø¨Ø¥Ø´Ø§Ø±Ø©",
          "Ø£Ø´Ø± Ø¥Ù„Ù‰ Ø´Ø®Øµ ØªØ¹ØªÙ‚Ø¯ Ø£Ù†Ù‡ Ø¨Ø­Ø§Ø¬Ø© Ù„Ù„Ø¹Ù„Ø§Ø¬"
        ],
        police: [
          "Ø§Ø³Ø£Ù„ Ø¹Ù† Ù‡ÙˆÙŠØ© Ø´Ø®Øµ Ø¨Ø¥Ø´Ø§Ø±Ø© (Ù†Ø¹Ù…/Ù„Ø§)",
          "Ø£Ø´Ø± Ø¥Ù„Ù‰ Ø´Ø®Øµ ØªØ¹ØªÙ‚Ø¯ Ø£Ù†Ù‡ Ø§Ù„Ù…Ø¬Ø±Ù…"
        ],
        citizen: [
          "ØªÙƒÙ„Ù… Ø¨Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© ÙÙ‚Ø·",
          "ØªÙƒÙ„Ù… Ø¨Ø¯ÙˆÙ† Ù…Ø§ ØªÙØªØ­ ÙÙ…Ùƒ",
          "ØªÙƒÙ„Ù… Ø¨Ø¯ÙˆÙ† Ù…Ø§ ÙŠØ´ÙˆÙÙƒ Ø§Ù„Ø¢Ø®Ø±ÙˆÙ†",
          "ØªÙƒÙ„Ù… Ø¨Ø¯ÙˆÙ† Ù…Ø§ ØªØªØ­Ø±Ùƒ (Ø¨Ø¯ÙˆÙ† ØªØ­Ø±ÙŠÙƒ Ø±Ø£Ø³Ùƒ)",
          "ØªÙƒÙ„Ù… ÙˆØ£Ù†Øª Ù…Ù‚ÙÙ„ Ø®Ø´Ù…Ùƒ"
        ]
      };

      const sequence = [
        { key: "all", text: "Ø§Ù„ÙƒÙ„ ÙŠØºÙ…Ù‘Ø¶ Ø¹ÙŠÙˆÙ†Ù‡ Ø§Ù„Ø¢Ù†." },
        { key: "criminal", text: "Ø§Ù„Ù…Ø¬Ø±Ù… ÙŠÙØªØ­ Ø¹ÙŠÙ†Ù‡..." },
        { key: "doctor", text: "Ø§Ù„Ø·Ø¨ÙŠØ¨ ÙŠÙØªØ­ Ø¹ÙŠÙ†Ù‡..." },
        { key: "police", text: "Ø§Ù„Ø´Ø±Ø·ÙŠ ÙŠÙØªØ­ Ø¹ÙŠÙ†Ù‡..." },
        { key: "done", text: "Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ù„ÙŠÙ„. Ø§ÙØªØ­ÙˆØ§ Ø¹ÙŠÙˆÙ†ÙƒÙ…!" }
      ];

      let currentStep = 0;
      const stepEl = document.getElementById('step');
      const nextBtn = document.getElementById('next');
      const roleCards = {
        criminal: document.getElementById('criminalCard'),
        doctor: document.getElementById('doctorCard'),
        police: document.getElementById('policeCard'),
        citizen: document.getElementById('citizenCard')
      };

      function getRandomChallenge(role) {
        const challenges = roleChallenges[role];
        return challenges[Math.floor(Math.random() * challenges.length)];
      }

      function showRoleCard(role) {
        // Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø£ÙˆÙ„Ø§Ù‹
        Object.values(roleCards).forEach(card => card.style.display = 'none');
        
        if (role) {
          roleCards[role].style.display = 'block';
          roleCards[role].textContent = `ðŸŽ­ ${getRandomChallenge(role)}`;
        }
      }

      function updateStep() {
        const step = sequence[currentStep];
        stepEl.textContent = step.text;
        
        // Ø¥Ø¸Ù‡Ø§Ø± Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ØªØ­Ø¯ÙŠ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©
        if (step.key === "criminal") showRoleCard("criminal");
        else if (step.key === "doctor") showRoleCard("doctor");
        else if (step.key === "police") showRoleCard("police");
        else showRoleCard(null);
      }

      nextBtn.addEventListener('click', () => {
        if (currentStep < sequence.length - 1) {
          currentStep++;
          updateStep();
        } else {
          window.location.href = '/day';
        }
      });

      // Ø¨Ø¯Ø¡ Ø§Ù„ØªØ³Ù„Ø³Ù„
      updateStep();
    </script>
  </body>
</html>